<!DOCTYPE html>
<html>
<meta charset='UTF-8' />
<title>concatenated-pdfs-02-18-2015</title>
<link type='text/css' rel='stylesheet' href='http://dev.policies.wsu.edu/wp-content/themes/theme-policies.wsu.edu/style.css'/>
<link type='text/css' rel='stylesheet' href='http://dev.policies.wsu.edu/wp-content/plugins/concatenated-pdfs/css/pdf_style.css'/>
<!-- built from the php and are important to try not to write over if possible -->
	<style>
		html,body { /*background-color:#F0F0F0;*/ position: relative; }
		/*@page{}*/
		#head_area{ left:15px; top:15px; height:50px; /*width:786px;*/ }
		#head_area .wrap{ height:50px;}
		#foot_area{ left:15px; bottom:15px; height:45px; /*width:786px;*/ }
		#foot_area .wrap{ height:45px; }
		body {padding:80px 15px 70px 15px;} /*note that the body is used as our sudo "page" it is our saffal base*/
		
		  
	</style></head>
<body>
<div id='head_area'>
<div class='wrap'>

	<div id="site_info_block">
		<img src="http://images.wsu.edu/images/WSU-Logo-Primary_RGB--180x50.png" id="logo" alt=""/>
		<div id="site_info">
			<span id="site_info_name">policies.wsu.edu</span>
			<br/>
			<span id="site_info_tag">Just another WordPress site</span>
		</div>
	</div>
	<div id="site_tag">February 18,2015<br/><a href='http://dev.policies.wsu.edu'>http://dev.policies.wsu.edu</a></div></div>
</div>
<div id='foot_area'>
<div class='wrap'>
<div id="page_numbers"><span id="pn_text">PAGE</span><span id="pn_number">{P#}/{PT#}</span></div>
</div>
</div>

<script type="text/php"> $GLOBALS["i"]=1; $GLOBALS["indexpage"]=0; $GLOBALS["chapters"] = array(); </script>

<div id='catpdf_cover'>
<!-- Note that CoverTitle is a default, and removal mean you must add your own css in.  -->
<h1 class='CoverTitle'>Cover Letter</h1>
</div>


<i class='page-break'></i>


<div id='catpdf_index'>

<script type="text/php">$GLOBALS["indexpage"]=$pdf->get_page_number(); $GLOBALS["backside"]=$pdf->open_object();</script>
<h2>Table of Contents</h2>
<table class='indexed_chapter'>
  <tbody>
    <tr>
      <td class='chapter'>chapter 1</td>
      <td class='text'>text 1</td>
      <td class='segment'>segment 1</td>
      <td class='pagenumber'>page 1</td>
    </tr>
  </tbody>
</table>


<script type="text/php">$pdf->close_object(); </script>

</div>


<i class='page-break'></i>


<div id='catpdf_content'>

	<div>
		
		<div class="content-wrapper">
			<div class="post">
				<h1>Hello world!</h1>
				<h2>Posted in:Uncategorized</h2>
				<h3></h3>
				<h4>version 0 <span>([revision_count] revisions)</span></h4>
				<div class="meta">
					<p>Posted on <strong>January 20,2015</strong> by <strong>jeremy.bass</strong></p>
				</div>
				
<script type="text/php"> if(isset($GLOBALS["i"])){ $i=$GLOBALS["i"]; if(!isset($GLOBALS["chapters"][$i])){ $GLOBALS["chapters"][$i]["page"] = $pdf->get_page_number();  $GLOBALS["chapters"][$i]["text"] = "Hello world!"; $GLOBALS["i"]=$i+1;} } </script>

Welcome to WordPress. This is your first post. Edit or delete it, then start blogging!
			</div>
		</div>
		<i class="page-break"></i>
	</div>
</div>


<i class='page-break'></i>


<div id='catpdf_appendix'>
<!-- Note that CoverTitle is a default, and removal mean you must add your own css in.  -->
<h1 class='CoverTitle'>appendix</h1>
[appendix_loop]
</div>

<script type="text/php">
	$bs = $GLOBALS["backside"]; // work to remove

	$count=$pdf->get_page_number();
	$chapters=$GLOBALS["chapters"];
	$o=1;
	$p=1;
	foreach($pdf->get_cpdf()->objects as $obj){
		foreach ($chapters as $chapter => $page) {
			if(isset($pdf->get_cpdf()->objects[$o]["c"])){
				$content = $pdf->get_cpdf()->objects[$o]["c"];
				$chapter_str	= "Chapter ".$chapter." ";
				$pagenumber_str	= " p: ".$page["page"];
				$text_str		= $page["text"]." ";
				if(strpos($content,'{chapter') !== false){
					$content = str_replace( '{chapter'.$chapter.'}' , $chapter_str, $content );
					$content = str_replace( '{page'.$chapter.'}' , $pagenumber_str, $content );
					$content = str_replace( '{text'.$chapter.'}' , $text_str, $content );
				}
				// using short var names as the dompdf will understand the 
				// plachole length which is a problem when trying to format
				if(strpos($content,'{P#}') !== false){
					$pn_text_str="PAGE";
					$pn_sep_str="/";
					if(strpos($content,'{PTx}') !== false){$content = str_replace( '{PTx}', $pn_text_str, $content );}
					if(strpos($content,'{P#}') !== false){$content = str_replace( '{P#}', $p."", $content );}
					if(strpos($content,'{PT#}') !== false){$content = str_replace( '{PT#}', $count."", $content );}
					if(strpos($content,'{P#S}') !== false){$content = str_replace( '{P#S}', $pn_sep_str, $content );}
					$p++;
				}
				$pdf->get_cpdf()->objects[$o]["c"]=$content;
			}
		} 
		$o++;
	}
	//page_script seems to need to be oneline?
	$pdf->page_script('$indexpage=$GLOBALS["indexpage"]; if ($PAGE_NUM==$indexpage ) { $pdf->add_object($GLOBALS["backside"],"add"); $pdf->stop_object($GLOBALS["backside"]); }');
</script>
<script type="text/javascript">
app.beep(0);
var inch = 92;
		for (var p = 0; p < this.numPages; p++) { 
		 // put a rectangle at .5 inch, .5 inch 
		  var aRect = this.getPageBox( {nPage: p} ); 
		  aRect[0] += .5*inch;// from upper left corner of page 
		  aRect[2] = aRect[0]+.5*inch; // Make it .5 inch wide 
		  aRect[1] -= .5*inch; 
		  aRect[3] = aRect[1] - .5*inch; // and .5 inch high 
		  var f = this.addField("p."+p, "text", p, aRect ); 
		  f.textSize = 20;  // 20-pt type
		  f.textColor = color.blue; // use whatever color you want
		  f.strokeColor = color.white; 
		  f.textFont = font.Helv; 
		  f.value = String(p+1);  // page numbering is zero-based
		  f.readonly = true; 
		}</script></body>
</html>
